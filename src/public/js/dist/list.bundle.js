!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=6)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r="test",o="utf8",i="pubkey",c="privkey"},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n(0),o=function(){sessionStorage.removeItem(r.d),sessionStorage.removeItem(r.c)},i=function(e,t,n){var r=new Blob([e],{type:n}),o=window.URL.createObjectURL(r);!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.style="display: none",n.click(),n.remove()}(o,t),setTimeout((function(){return window.URL.revokeObjectURL(o)}),1e3)},c=function(e){document.querySelectorAll(e).forEach((function(e){e.style.display="none"}))},u=function(e){document.querySelectorAll(e).forEach((function(e){e.style.display=""}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return l}));var r=n(4),o=n.n(r),i=n(0),c=n(1),u=function(e,t){return(e===i.d||e===i.c)&&((64===t.length||t instanceof Uint8Array)&&(sessionStorage.setItem(e,new Uint8Array(t).toString()),!0))},a=function(){var e=o.a.pki.ed25519.generateKeyPair(),t=function(e){var t={publicKey:e.publicKey.toString(),privateKey:e.privateKey.toString()};return JSON.stringify(t)}(e);return Object(c.a)(t,"cryptoFs-keypair.json","application/json"),u(i.d,e.publicKey),u(i.c,e.privateKey),e},l=function(e){var t=JSON.parse(e);return t.publicKey=new Uint8Array(t.publicKey.split(",")),t.privateKey=new Uint8Array(t.privateKey.split(",")),t},d=function(){var e={publicKey:sessionStorage.pubkey,privateKey:sessionStorage.privkey};return e.publicKey||e.publicKey?(e.publicKey=new Uint8Array(e.publicKey.split(",")),e.privateKey=new Uint8Array(e.privateKey.split(",")),e):null},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a,n=d(),r=n.privateKey;return r?new Uint8Array(o.a.pki.ed25519.sign({message:e,encoding:t,privateKey:r})):null},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d().publicKey,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s(),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.b;document.querySelector("#".concat(e,' input[name="fileContentHash"]')).value=t,document.querySelector("#".concat(e,' input[name="msg"]')).value=o,document.querySelector("#".concat(e,' input[name="signature"]')).value=r.toString(),document.querySelector("#".concat(e,' input[name="publicKey"]')).value=n.toString()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(1),o=function(e){document.querySelector("#navSuccessMessage").innerHTML=e,Object(r.d)("#navSuccess")},i=function(e){document.querySelector("#navFailureMessage").innerHTML=e,Object(r.d)("#navFailure")}},function(e,t){e.exports=forge},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(2),i=n(0),c=n(3);n.d(t,"showSuccessMessage",(function(){return c.b})),n.d(t,"showFailureMessage",(function(){return c.a}));Object(r.b)("#navSuccess"),Object(r.b)("#navFailure"),Object(r.b)("#keyManagementDiv"),Object(o.c)()?(Object(r.b)("#login"),Object(r.d)("#logout")):Object(r.b)("#logout"),document.querySelector("#logout").addEventListener("click",(function(){Object(r.c)(),window.location.reload()})),document.querySelector("#login").addEventListener("click",(function(){Object(r.d)("#keyManagementDiv")})),document.querySelector("#generateKeyValuePairButton").addEventListener("click",(function(){Object(o.b)(),window.location.reload()})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("input[name=keyUpload]").addEventListener("change",(function(e){var t=new FileReader;t.onload=function(){var e=Object(o.a)(t.result);try{Object(o.e)(i.c,e.privateKey),Object(o.e)(i.d,e.publicKey),Object(c.b)("Key Successfully uploaded!"),Object(r.b)("#keyManagementDiv"),Object(r.b)("#login"),Object(r.d)("#logout")}catch(e){Object(c.a)(e)}},t.readAsText(e.target.files[0])}))}))},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(0),i=n(5);document.addEventListener("DOMContentLoaded",(function(){var e=Object(r.c)();if(e){var t=Object(r.d)(),n=e.publicKey;fetch("/listFiles",{method:"GET",headers:{msg:o.b,signature:t.toString(),publicKey:n.toString(),"Content-Type":"application/json;charset=utf-8"}}).then((function(e){return e.json()})).then((function(e){var t=document.getElementById("table1");e.map.forEach((function(e){var n=document.createElement("tr"),o=document.createElement("td");o.innerHTML=e.metaData.filename;var i=document.createElement("td");i.innerHTML=e.metaData.dateUploaded;var c=document.createElement("td");c.innerHTML=e.fileContentHash;var u=document.createElement("td"),a=document.createElement("button");a.addEventListener("click",(function(){var t;t=e.fileContentHash,Object(r.f)("fileDownload",t),document.forms.fileDownload.submit()})),a.setAttribute("class","button is-info listDownloadButton"),a.innerHTML="Download",u.appendChild(a);var l=document.createElement("td"),d=document.createElement("button");d.addEventListener("click",(function(){var t;t=e.fileContentHash,Object(r.f)("fileDelete",t),document.forms.fileDelete.submit()})),d.setAttribute("class","button is-danger listDeleteButton"),d.innerHTML="Delete",l.appendChild(d),n.appendChild(o),n.appendChild(i),n.appendChild(c),n.appendChild(u),n.appendChild(l),t.appendChild(n)}))})).catch((function(e){Object(i.showFailureMessage)(e.toString())}))}else Object(i.showFailureMessage)("Please login to view list")}))}]);